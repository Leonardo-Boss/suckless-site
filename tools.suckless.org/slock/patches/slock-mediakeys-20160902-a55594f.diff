From 5501bf403490eaf4c569be0889ef53011ddc23fd Mon Sep 17 00:00:00 2001
From: Klemens Nanni <kl3@posteo.org>
Date: Fri, 2 Sep 2016 13:57:31 +0200
Subject: [PATCH] Allow mediakeys

This allows media hotkeys to be used while the screen is locked.
---
 slock.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/slock.c b/slock.c
index 08ada6f..305f406 100644
--- a/slock.c
+++ b/slock.c
@@ -17,6 +17,7 @@
 #include <X11/keysym.h>
 #include <X11/Xlib.h>
 #include <X11/Xutil.h>
+#include <X11/XF86keysym.h>
 
 #if HAVE_BSD_AUTH
 #include <login_cap.h>
@@ -161,6 +162,15 @@ readpw(Display *dpy, const char *pws)
 			    IsPrivateKeypadKey(ksym))
 				continue;
 			switch (ksym) {
+			case XF86XK_AudioLowerVolume:
+			case XF86XK_AudioMute:
+			case XF86XK_AudioRaiseVolume:
+			case XF86XK_AudioPlay:
+			case XF86XK_AudioStop:
+			case XF86XK_AudioPrev:
+			case XF86XK_AudioNext:
+				XSendEvent(dpy, locks[0]->root, True, KeyPressMask, &ev);
+				break;
 			case XK_Return:
 				passwd[len] = 0;
 #ifdef HAVE_BSD_AUTH
-- 
2.8.3

